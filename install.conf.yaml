- defaults:
    link:
        relink: true
        create: true

- clean: ['~']

- link:
    ~/.config/fish: fish
    ~/.mackup.cfg: mackup.cfg
    ~/.gitconfig: gitconfig
    ~/.gitconfig.local: gitconfig.local
    ~/.gitignore_global: 
        path: gitignore_global
        force: true

    ~/.gemrc: gemrc
    
    # bash
    ~/.hyper.js: hyper.js
    ~/.bashrc: bashrc
    ~/.bash_profile: bash_profile
    ~/.hushlogin: hushlogin #silences shell login message
    ~/.sshrc: sshrc # sshrc

    # vim
    ~/.vim: vim
    ~/.xvimrc: xvimrc # Xvim
    ~/.vimrc: vimrc
    ~/.gvirmc: gvimrc

    # LLDBD init for Chisel
    ~/.lldbinit: lldbinit
    # Xcode Themes
    ~/Library/Developer/Xcode/UserData/FontAndColorThemes: xcode/FontAndColorThemes

# installs software
- shell:
    - [git config --global core.excludesfile ~/.gitignore_global, Setting up global gitignore]
    - [. scripts/brew.sh, Install Brew]
    - [vim +'PlugInstall --sync' +qall &> /dev/null, "Installing Vim plugins"]
    # Install Ruby 2.5.1 with rbenv, this version can be changed to latest if wanted
    # Rbenv will stall for a while installing
    - [rbenv install 2.5.1, Install ruby version 2.5.1 could take a while]
    - ["export PATH=~/.rbenv/shims:$PATH"]
    # Gems
    - [gem install bundler, Install Bundler]
    - [bundle install --gemfile=~/.dotfiles/Gemfile, Install Gems]
    # Fish
    - [echo "/usr/local/bin/fish" | sudo tee -a /etc/shells]
    - [chsh -s /usr/local/bin/fish]
    - exec fish -l
    # Install fisher packages
    - [fisher, "Installing Fish plugins"]
    # This will kill everythingh at the end of the script
    - [. scripts/macOS.sh, Setup macOS]
    # Restore Mackup
    # - mackup restore
