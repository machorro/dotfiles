- defaults:
    link:
        relink: true
        create: true

- clean: ['~']

- shell:
    - [git submodule update --init --recursive, Installing submodules]

- link:
    ~/.config/fish: fish
    ~/.mackup.cfg: mackup.cfg
    ~/.gitconfig: gitconfig
    ~/.gitconfig.local: gitconfig.local
    ~/.gitignore_global: 
        path: gitignore_global
        force: true
    ~/.hyper.js: hyper.js
    # Atom
    ~/.atom: 
        path: atom
        force: true
    # vim
    ~/.vim: vim
    ~/.xvimrc: xvimrc # Xvim
    ~/.vimrc: vimrc
    ~/.gvirmc: gvimrc

# installs software
- shell:
      command: . scripts/brew.sh
# Configures macOS
- shell:
      command: . scripts/macOS.sh
# Installs Atom Packages
- shell:
    - [apm install --packages-file atom/packages.list, Install Atom Packages]
    - [curl -fLo ~/.vim/autoload/plug.vim --create-dirs raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim]
    - [curl -Lo ~/.config/fish/functions/fisher.fish --create-dirs git.io/fisher]
- shell:
    - [echo "/usr/local/bin/fish" | sudo tee -a /etc/shells]
- shell:
    - [chsh -s /usr/local/bin/fish]
- shell:
    - exec fish -l
# Install fisher packages
- shell:
    - fisher simple
# Restore Mackup
- shell:
    - mackup restore
# Installs iTerm Theme
- shell:
      command: [open iterm/Dracula.itermcolors;ok]
